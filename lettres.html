<!DOCTYPE html>

<html lang="fr">
<head>
<meta charset="utf-8"/>
<title>Bac Lettres</title>
<link href="css/style.css" rel="stylesheet"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
</head>
<body>
<div class="overlay">
  <div class="container">
    <h1>üßæ Bac Lettres</h1>
    <form id="form">
      <input id="nom" placeholder="Votre nom" required type="text"/><br/>
      <input id="pens√©e_islamique" placeholder="Pens√©e Islamique" required step="0.01" type="number"/><br/>
      <input id="hist" placeholder="Hist/G√©o" required step="0.01" type="number"/><br/>
      <input id="fran√ßais" placeholder="Fran√ßais" required step="0.01" type="number"/><br/>
      <input id="philo" placeholder="Philo" required step="0.01" type="number"/><br/>
      <input id="arabe" placeholder="Arabe" required step="0.01" type="number"/><br/>
      <input id="sport" placeholder="Sport" required step="0.01" type="number"/><br/>
      <input id="anglais" placeholder="Anglais" required step="0.01" type="number"/><br/>
      <input id="informatique" placeholder="Informatique" required step="0.01" type="number"/><br/>
      <input id="option" placeholder="Option" required step="0.01" type="number"/><br/>
      <button type="submit">Calculer</button>
    </form>

    <a href="index.html" style="display:inline-block;margin-top:30px;background:#555;padding:10px 20px;color:white;text-decoration:none;border-radius:6px;font-weight:bold;">‚¨ÖÔ∏è Retour √† l'accueil</a>
  </div>
</div>

<!-- ü™ü POPUP -->
<div id="popup" class="popup-overlay" style="display:none;">
  <div class="popup-box">
    <span id="popup-close" class="close-btn">&times;</span>
    <h2>üéì R√©sultat</h2>
    <p id="popup-msg"></p>
  </div>
</div>

<script>
document.getElementById("form").addEventListener("submit", function(e) {
  e.preventDefault();
  const nom = document.getElementById("nom").value;
  let total = 0, score = 0, bonus = 0;
  let coefTotal = 18;
  function val(id) {
    return parseFloat(document.getElementById(id).value.replace(',', '.'));
  }
  total += val('pens√©e_islamique') * 1;
  total += val('hist') * 3; score += val('hist') * 1;
  total += val('fran√ßais') * 2; score += val('fran√ßais') * 1;
  total += val('philo') * 4; score += val('philo') * 1;
  total += val('arabe') * 4;
  total += val('sport') * 1;
  total += val('anglais') * 2; score += val('anglais') * 1;
  total += val('informatique') * 1;
  bonus = Math.max(0, val('option') - 10);

  let moyenne = ((total + bonus) / coefTotal).toFixed(2);
  let scoreFinal = (moyenne * 4 + score).toFixed(2);
  let msg = nom + ", votre moyenne est : " + moyenne + "/20<br>";
  msg += "üéØ Score d‚Äôorientation : " + scoreFinal;
  msg += (moyenne >= 10) ? "<br>üéâ Admis Nchalah !" : "<br>Matkhafech Nchalah Rabi Ysahel.";

  document.getElementById("popup-msg").innerHTML = msg;
  document.getElementById("popup").style.display = "flex";
});

document.getElementById("popup-close").onclick = function() {
  document.getElementById("popup").style.display = "none";
};
</script>

<style>
.popup-overlay {
  position: fixed;
  top: 0; left: 0;
  width: 100vw; height: 100vh;
  background: rgba(0, 0, 0, 0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}
.popup-box {
  background: white;
  color: black;
  padding: 30px;
  border-radius: 12px;
  width: 90%;
  max-width: 400px;
  text-align: center;
  box-shadow: 0 0 15px rgba(0,0,0,0.3);
  position: relative;
}
.close-btn {
  position: absolute;
  top: 15px;
  right: 20px;
  font-size: 26px;
  cursor: pointer;
  color: #888;
}
</style>
</body>
</html>